---
layout: post
title: tailwindcss + PostCSS + Webpack
categories: tools
section: tools
seq: 15
subseq: 12
description: Tailwind + PostCSS + Webpack
---

# 1. tailwindcss

[tailwindcss](https://tailwindcss.com)는 ["Utility-First Fundamentals"](https://tailwindcss.com/docs/utility-first)이라는 기본 컨셉의 CSS 프레임워크다. 기존의 스타일링 방식은 html 요소에 스타일을 지정할 때마다 CSS를 작성해야 하지만 tailwindcss를 사용하면 css를 직접 작성할 필요없이 class로 제공되는 제공되는 기본 유틸리티 세트를 html에 추가하는 것으로 스타일을 지정할 수 있다.

tailwindcss는 모든 html, JavaScript 등에서 tailwindcss class를 검색하고 해당 스타일을 생성한 다음 정적 CSS 파일에 작성하는 방식으로 작동한다.

# 2. Install

[tailwindcss를 설치하는 방법](https://tailwindcss.com/docs/installation)은 tailwindcss CLI을 사용하거나 PostCSS의 플러그인으로 설치하거나 프레임워크(React, Next.js, Gatsby 등)에 추가하거나 CDN 사용하는 등 다양하다. 프레임워크에 사용하지 않는 경우 권장되는 방법은 tailwindcss를 PostCSS의 플러그인으로 설치하는 것이다. 이에 대해 살펴보자.

JS 플러그인으로 스타일을 트랜스파일링하는 도구인 [PostCSS](https://github.com/postcss/postcss)를 Webpack을 통해 사용할 것이므로 결국 tailwindcss도 Webpack 환경에서 빌드된다.

```bash
$ mkdir tailwind-demo && cd tailwind-demo
$ npm init -y
# install webpack
$ npm install --save-dev webpack webpack-cli webpack-dev-server html-webpack-plugin style-loader css-loader postcss-loader
# install tailwindcss & postcss
$ npm install --save-dev tailwindcss autoprefixer postcss
# create files
$ mkdir src && touch src/index.html src/index.js src/main.css
```

src/index.html 파일에 다음을 추가한다.

```html
<!DOCTYPE html>
<html>
  <body>
    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Button</button>
  </body>
</html>
```

src/main.css 파일에 다음을 추가한다.

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

src/index.js 파일에 다음을 추가한다.

```javascript
import './main.css';
```

webpack.config.js에 다음과 같이 설정을 추가한다.

```javascript
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js',
    publicPath: '/',
    clean: true,
  },
  plugins: [new HtmlWebpackPlugin({ template: 'src/index.html' })],
  module: {
    rules: [
      {
        test: /\.css$/i,
        include: path.resolve(__dirname, 'src'),
        use: ['style-loader', 'css-loader', 'postcss-loader'],
      },
    ],
  },
  devServer: {
    static: { directory: path.join(__dirname, 'dist') },
    open: true,
    port: 'auto',
  },
  devtool: 'source-map',
  mode: 'development',
};
```

다음 명령을 실행해 tailwind.config.js 파일을 생성한다.

```bash
$ npx tailwindcss init
```

tailwind.config.js 파일에 다음을 추가한다.

```javascript
module.exports = {
  content: ['./src/**/*.{html,js}'],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

postcss.config.js 파일을 생성해 다음을 추가한다.

```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
```

package.json의 scripts에 다음을 추가한다.

```json
...
  "scripts": {
    "start": "webpack serve",
  },
...
```

webpack-dev-server의 실행을 위해 다음과 같이 package.json scripts의 start를 실행한다.

```bash
$ npm start
```
